## 一个使用自定义话题数据接口的发布者
这里创建一个话题的接口（接口里没有---来区分request和response），所以这里创建一个使用自定义话题数据接口的发布者

【1】，创建发布者.py文件
![Pasted image 20250922220413.png](<attachments/Pasted image 20250922220413.png>)

【2】，写发布者代码内容
（其实跟普通的发布者内容差不多，只是用的接口数据类型不一样）
![Pasted image 20250922220612.png](<attachments/Pasted image 20250922220612.png>)

【3】，在package里面添加对该接口包的依赖
![Pasted image 20250922220716.png](<attachments/Pasted image 20250922220716.png>)

【4】，在setup里面写入新文件
![Pasted image 20250922220737.png](<attachments/Pasted image 20250922220737.png>)


## 一个使用自定义服务数据接口的服务器

【1】，创建自定义服务接口
在前文的基础上[[6，自定义接口interface]]的【5】开始（也就是默认自定义接口包文件夹配置好了）

在接口包文件夹下创建一个srv的文件夹，然后在srv文件夹下创建.srv的文件
![Pasted image 20250922224740.png](<attachments/Pasted image 20250922224740.png>)

【2】，写该服务接口的数据类型
![Pasted image 20250922224827.png](<attachments/Pasted image 20250922224827.png>)

【3】，在Cmake里面写上新的接口路径
（注意行与行之间没有逗号）
![Pasted image 20250922224934.png](<attachments/Pasted image 20250922224934.png>)

【4】，然后colcon build一下，这个服务接口就算写好了
（中间一大串不用管，是误报）
![Pasted image 20250922225044.png](<attachments/Pasted image 20250922225044.png>)


【5】，创建服务器.py文件，并写代码，并检查package里面有没有库的依赖，在setup里面添加文件，最后colcon build一下
![Pasted image 20250922225151.png](<attachments/Pasted image 20250922225151.png>)
![Pasted image 20250922225212.png](<attachments/Pasted image 20250922225212.png>)
![Pasted image 20250922225304.png](<attachments/Pasted image 20250922225304.png>)
![Pasted image 20250922225326.png](<attachments/Pasted image 20250922225326.png>)


【6】，运行这个使用自定义接口的服务器
![Pasted image 20250922225400.png](<attachments/Pasted image 20250922225400.png>)
![Pasted image 20250922225423.png](<attachments/Pasted image 20250922225423.png>)